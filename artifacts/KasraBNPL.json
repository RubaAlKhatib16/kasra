{
  "abi": [
    {
      "inputs": [],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "agreementId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "buyer",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "seller",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "totalAmount",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "installments",
          "type": "uint256"
        }
      ],
      "name": "AgreementInitiated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "agreementId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "payer",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amountPaid",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "newBalance",
          "type": "uint256"
        }
      ],
      "name": "InstallmentPaid",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "agreements",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "agreementId",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "buyer",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "seller",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "totalAmount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "outstandingBalance",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "installments",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "installmentAmount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "nextDueDate",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "isCompleted",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "buyerAgreements",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_agreementId",
          "type": "uint256"
        }
      ],
      "name": "getAgreementDetails",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_buyer",
          "type": "address"
        }
      ],
      "name": "getBuyerAgreements",
      "outputs": [
        {
          "internalType": "uint256[]",
          "name": "",
          "type": "uint256[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_buyer",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_seller",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "_totalAmount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_installments",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_nextDueDate",
          "type": "uint256"
        }
      ],
      "name": "initiatePayLater",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_agreementId",
          "type": "uint256"
        }
      ],
      "name": "makeInstallmentPayment",
      "outputs": [],
      "stateMutability": "payable",
      "type": "function"
    }
  ],
  "bytecode": "608060405260015f553480156012575f5ffd5b50611153806100205f395ff3fe608060405260043610610054575f3560e01c80630cf4a2ab14610058578063429a41c914610094578063436ae7f9146100d057806364d1984d1461010c578063b36f775314610128578063bd14de961461016c575b5f5ffd5b348015610063575f5ffd5b5061007e60048036038101906100799190610981565b6101b0565b60405161008b9190610a07565b60405180910390f35b34801561009f575f5ffd5b506100ba60048036038101906100b59190610a20565b6104dd565b6040516100c79190610a07565b60405180910390f35b3480156100db575f5ffd5b506100f660048036038101906100f19190610a5e565b610508565b6040516101039190610b40565b60405180910390f35b61012660048036038101906101219190610b60565b61059b565b005b348015610133575f5ffd5b5061014e60048036038101906101499190610b60565b6107a9565b60405161016399989796959493929190610bb4565b60405180910390f35b348015610177575f5ffd5b50610192600480360381019061018d9190610b60565b61085c565b6040516101a799989796959493929190610bb4565b60405180910390f35b5f5f84116101f3576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016101ea90610c99565b60405180910390fd5b5f8311610235576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161022c90610d27565b60405180910390fd5b428211610277576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161026e90610db5565b60405180910390fd5b5f5f5f81548092919061028990610e00565b9190505590505f848661029c9190610e74565b90506040518061012001604052808381526020018973ffffffffffffffffffffffffffffffffffffffff1681526020018873ffffffffffffffffffffffffffffffffffffffff1681526020018781526020018781526020018681526020018281526020018581526020015f151581525060015f8481526020019081526020015f205f820151815f01556020820151816001015f6101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506040820151816002015f6101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550606082015181600301556080820151816004015560a0820151816005015560c0820151816006015560e08201518160070155610100820151816008015f6101000a81548160ff02191690831515021790555090505060025f8973ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f2082908060018154018082558091505060019003905f5260205f20015f90919091909150558673ffffffffffffffffffffffffffffffffffffffff168873ffffffffffffffffffffffffffffffffffffffff16837f01d1f3787a6df352473cc39df5ee50c6a2874ec04f5acc4d279501c09c3356de89896040516104c7929190610ea4565b60405180910390a4819250505095945050505050565b6002602052815f5260405f2081815481106104f6575f80fd5b905f5260205f20015f91509150505481565b606060025f8373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f2080548060200260200160405190810160405280929190818152602001828054801561058f57602002820191905f5260205f20905b81548152602001906001019080831161057b575b50505050509050919050565b5f60015f8381526020019081526020015f2090505f815f0154036105f4576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016105eb90610f15565b60405180910390fd5b806008015f9054906101000a900460ff1615610645576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161063c90610f7d565b60405180910390fd5b5f3411610687576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161067e9061100b565b60405180910390fd5b5f81600601549050803410156106d2576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016106c990611099565b60405180910390fd5b5f34905082600401548111156106ea57826004015490505b80836004015f8282546106fd91906110b7565b925050819055505f836004015403610730576001836008015f6101000a81548160ff02191690831515021790555061074e565b62278d00836007015f82825461074691906110ea565b925050819055505b3373ffffffffffffffffffffffffffffffffffffffff16847f0eb1f0fd1d084c33f75e5bfe2fe738ae6ace025a23afc86d3cf168ada6df4c2534866004015460405161079b929190610ea4565b60405180910390a350505050565b5f5f5f5f5f5f5f5f5f5f60015f8c81526020019081526020015f209050805f0154816001015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff16826002015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1683600301548460040154856005015486600601548760070154886008015f9054906101000a900460ff16995099509950995099509950995099509950509193959799909294969850565b6001602052805f5260405f205f91509050805f015490806001015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1690806002015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1690806003015490806004015490806005015490806006015490806007015490806008015f9054906101000a900460ff16905089565b5f5ffd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f61091d826108f4565b9050919050565b61092d81610913565b8114610937575f5ffd5b50565b5f8135905061094881610924565b92915050565b5f819050919050565b6109608161094e565b811461096a575f5ffd5b50565b5f8135905061097b81610957565b92915050565b5f5f5f5f5f60a0868803121561099a576109996108f0565b5b5f6109a78882890161093a565b95505060206109b88882890161093a565b94505060406109c98882890161096d565b93505060606109da8882890161096d565b92505060806109eb8882890161096d565b9150509295509295909350565b610a018161094e565b82525050565b5f602082019050610a1a5f8301846109f8565b92915050565b5f5f60408385031215610a3657610a356108f0565b5b5f610a438582860161093a565b9250506020610a548582860161096d565b9150509250929050565b5f60208284031215610a7357610a726108f0565b5b5f610a808482850161093a565b91505092915050565b5f81519050919050565b5f82825260208201905092915050565b5f819050602082019050919050565b610abb8161094e565b82525050565b5f610acc8383610ab2565b60208301905092915050565b5f602082019050919050565b5f610aee82610a89565b610af88185610a93565b9350610b0383610aa3565b805f5b83811015610b33578151610b1a8882610ac1565b9750610b2583610ad8565b925050600181019050610b06565b5085935050505092915050565b5f6020820190508181035f830152610b588184610ae4565b905092915050565b5f60208284031215610b7557610b746108f0565b5b5f610b828482850161096d565b91505092915050565b610b9481610913565b82525050565b5f8115159050919050565b610bae81610b9a565b82525050565b5f61012082019050610bc85f83018c6109f8565b610bd5602083018b610b8b565b610be2604083018a610b8b565b610bef60608301896109f8565b610bfc60808301886109f8565b610c0960a08301876109f8565b610c1660c08301866109f8565b610c2360e08301856109f8565b610c31610100830184610ba5565b9a9950505050505050505050565b5f82825260208201905092915050565b7f416d6f756e74206d7573742062652067726561746572207468616e207a65726f5f82015250565b5f610c83602083610c3f565b9150610c8e82610c4f565b602082019050919050565b5f6020820190508181035f830152610cb081610c77565b9050919050565b7f4d7573742068617665206174206c65617374206f6e6520696e7374616c6c6d655f8201527f6e74000000000000000000000000000000000000000000000000000000000000602082015250565b5f610d11602283610c3f565b9150610d1c82610cb7565b604082019050919050565b5f6020820190508181035f830152610d3e81610d05565b9050919050565b7f4e657874206475652064617465206d75737420626520696e20746865206675745f8201527f7572650000000000000000000000000000000000000000000000000000000000602082015250565b5f610d9f602383610c3f565b9150610daa82610d45565b604082019050919050565b5f6020820190508181035f830152610dcc81610d93565b9050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52601160045260245ffd5b5f610e0a8261094e565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8203610e3c57610e3b610dd3565b5b600182019050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52601260045260245ffd5b5f610e7e8261094e565b9150610e898361094e565b925082610e9957610e98610e47565b5b828204905092915050565b5f604082019050610eb75f8301856109f8565b610ec460208301846109f8565b9392505050565b7f496e76616c69642061677265656d656e742049440000000000000000000000005f82015250565b5f610eff601483610c3f565b9150610f0a82610ecb565b602082019050919050565b5f6020820190508181035f830152610f2c81610ef3565b9050919050565b7f41677265656d656e7420697320616c726561647920636f6d706c6574656400005f82015250565b5f610f67601e83610c3f565b9150610f7282610f33565b602082019050919050565b5f6020820190508181035f830152610f9481610f5b565b9050919050565b7f5061796d656e7420616d6f756e74206d757374206265206772656174657220745f8201527f68616e207a65726f000000000000000000000000000000000000000000000000602082015250565b5f610ff5602883610c3f565b915061100082610f9b565b604082019050919050565b5f6020820190508181035f83015261102281610fe9565b9050919050565b7f5061796d656e74206973206c657373207468616e2074686520657870656374655f8201527f6420696e7374616c6c6d656e7420616d6f756e74000000000000000000000000602082015250565b5f611083603483610c3f565b915061108e82611029565b604082019050919050565b5f6020820190508181035f8301526110b081611077565b9050919050565b5f6110c18261094e565b91506110cc8361094e565b92508282039050818111156110e4576110e3610dd3565b5b92915050565b5f6110f48261094e565b91506110ff8361094e565b925082820190508082111561111757611116610dd3565b5b9291505056fea2646970667358221220d645280fbf3b49b88427a0fe4cacd23fb0b79437bbaffa00b409286785a8ad5e64736f6c634300081e0033"
}